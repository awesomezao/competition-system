(this["webpackJsonpcompetition-system"]=this["webpackJsonpcompetition-system"]||[]).push([[14],{412:function(n,e,t){n.exports={form:"Pwd_form__2p85a",btn:"Pwd_btn__1kVMb"}},427:function(n,e,t){"use strict";t.r(e);var a=t(18),r=t.n(a),i=t(41),s=t(4),o=t(76),c=t(0),u=t.n(c),m=t(39),p=t(315),l=t(343),w=t(344),d=t(53),b=t(133),h=t(60),O=t(320),g=t(130),f=t(412),j=t.n(f);e.default=function(n){Object(o.a)(n);var e=h.a.useContainer(),t=Object(d.b)(""),a=Object(d.b)(""),f=Object(c.useState)(!1),P=Object(s.a)(f,2),v=P[0],R=P[1],_=Object(m.g)(),y=Object(d.f)("user_token"),E=Object(s.a)(y,3),k=(E[0],E[1]),I=(E[2],Object(p.a)({mailOrPhone:{msg:"\u624b\u673a\u53f7\u5c3d\u91cf\u4e0e\u5fae\u4fe1\u53f7\u4fdd\u6301\u4e00\u81f4",warn:!1,isRight:!1},pwd:{msg:"",warn:!1,isRight:!1}})),x=Object(s.a)(I,2),N=x[0],S=x[1],q=Object(g.c)(b.d,{manual:!0,onSuccess:function(n,t){n.code<0?S((function(e){e.pwd.msg=n.message,e.pwd.warn=!0})):(S((function(n){n.pwd.msg="",n.pwd.warn=!1})),n.data&&(k(n.data.jwt),e.setIsLogin(!0),_.push("/center")))}}),J=function(){return O.a.required(t.value)?O.a.isPhoneNumber(t.value)||O.a.isEmail(t.value)?(S((function(n){n.mailOrPhone.msg="\u624b\u673a\u53f7\u5c3d\u91cf\u4e0e\u5fae\u4fe1\u53f7\u4fdd\u6301\u4e00\u81f4",n.mailOrPhone.warn=!1,n.mailOrPhone.isRight=!0})),!0):(S((function(n){n.mailOrPhone.msg="\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7535\u8bdd\u53f7\u7801\u6216\u90ae\u7bb1",n.mailOrPhone.warn=!0,n.mailOrPhone.isRight=!1})),!1):(S((function(n){n.mailOrPhone.msg="\u90ae\u7bb1\u6216\u8005\u7535\u8bdd\u4e0d\u80fd\u4e3a\u7a7a",n.mailOrPhone.warn=!0,n.mailOrPhone.isRight=!1})),!1)},C=function(){return O.a.required(a.value)?(S((function(n){n.pwd.msg="",n.pwd.warn=!1,n.pwd.isRight=!0})),!0):(S((function(n){n.pwd.msg="\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",n.pwd.warn=!0,n.pwd.isRight=!1})),!1)},D=Object(g.b)(J,300),L=Object(g.b)(C,300),M=Object(g.b)((function(){N.mailOrPhone.isRight&&N.pwd.isRight?R(!0):R(!1)}),300),V=function(){var n=Object(i.a)(r.a.mark((function n(e){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),q.run(t.value,a.value);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return u.a.createElement("form",{className:j.a.form,onSubmit:V,onInput:M.run},u.a.createElement(w.a,{type:"text",onInput:D.run,bind:t,placeholder:"\u624b\u673a\u53f7/\u90ae\u7bb1",msg:N.mailOrPhone.msg,warn:N.mailOrPhone.warn}),u.a.createElement(w.a,{type:"password",onInput:L.run,bind:a,placeholder:"\u5bc6\u7801",msg:N.pwd.msg,warn:N.pwd.warn,isOnEye:!0}),u.a.createElement(l.a,{className:j.a.btn,disabled:!v,loading:q.loading}))}}}]);