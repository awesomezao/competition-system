(this["webpackJsonpcompetition-system"]=this["webpackJsonpcompetition-system"]||[]).push([[13],{411:function(e,t,i){e.exports={form:"Msg_form__3MtU2",btn:"Msg_btn__2Rjy9"}},426:function(e,t,i){"use strict";i.r(t);var n=i(4),a=i(76),r=i(0),c=i.n(r),o=i(39),s=i(343),l=i(344),u=i(53),m=i(130),b=i(133),f=i(320),h=i(315),O=i(323),v=i(411),g=i.n(v);t.default=function(e){Object(a.a)(e);var t=Object(u.c)(O.b),i=Object(n.a)(t,3),v=i[0],p=i[1],j=i[2],P=Object(r.useState)("\u83b7\u53d6\u9a8c\u8bc1\u7801"),d=Object(n.a)(P,2),w=d[0],R=d[1],M=Object(u.b)(""),_=Object(u.b)(""),y=Object(r.useState)(!1),E=Object(n.a)(y,2),S=E[0],k=E[1],x=Object(h.a)({mailOrPhone:{msg:"\u624b\u673a\u53f7\u5c3d\u91cf\u4e0e\u5fae\u4fe1\u53f7\u4fdd\u6301\u4e00\u81f4",warn:!1,isRight:!1},verification:{msg:"",warn:!1,isRight:!1}}),I=Object(n.a)(x,2),N=I[0],V=I[1],q=Object(o.g)(),C=Object(m.c)(b.c,{manual:!0});Object(u.e)((function(){R(!0===j?"\u91cd\u65b0\u53d1\u9001\u9a8c\u8bc1\u7801(".concat(v,")"):"\u83b7\u53d6\u9a8c\u8bc1\u7801")}),[v]);var D={validatePhoneOrMail:function(){return f.a.required(M.value)?f.a.isPhoneNumber(M.value)||f.a.isEmail(M.value)?(V((function(e){e.mailOrPhone.msg="\u624b\u673a\u53f7\u5c3d\u91cf\u4e0e\u5fae\u4fe1\u53f7\u4fdd\u6301\u4e00\u81f4",e.mailOrPhone.warn=!1,e.mailOrPhone.isRight=!0})),!0):(V((function(e){e.mailOrPhone.msg="\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7535\u8bdd\u53f7\u7801\u6216\u90ae\u7bb1",e.mailOrPhone.warn=!0,e.mailOrPhone.isRight=!1})),!1):(V((function(e){e.mailOrPhone.msg="\u90ae\u7bb1\u6216\u8005\u7535\u8bdd\u4e0d\u80fd\u4e3a\u7a7a",e.mailOrPhone.warn=!0,e.mailOrPhone.isRight=!1})),!1)},validateVerification:function(){return f.a.required(_.value)?(V((function(e){e.verification.msg="",e.verification.warn=!1,e.verification.isRight=!0})),!0):(V((function(e){e.verification.msg="\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a",e.verification.warn=!0,e.verification.isRight=!1})),!1)}},J=Object(m.b)(D.validatePhoneOrMail,300),B=Object(m.b)(D.validateVerification,300),U=Object(m.b)((function(){N.mailOrPhone.isRight&&N.verification.isRight?k(!0):k(!1)}),300);return c.a.createElement("form",{className:g.a.form,onSubmit:function(e){e.preventDefault(),q.push("/signup",{verificationCode:_.value})},onInput:U.run},c.a.createElement(l.a,{type:"text",placeholder:"\u624b\u673a\u53f7/\u90ae\u7bb1",msg:N.mailOrPhone.msg,warn:N.mailOrPhone.warn,bind:M,onInput:J.run}),c.a.createElement(l.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",hasBtn:!0,btnValue:w,btnStatus:j,btnCallback:function(e){e.preventDefault(),D.validatePhoneOrMail()&&(p(),C.run(M.value))},msg:N.verification.msg,warn:N.verification.warn,bind:_,onInput:B.run}),c.a.createElement(s.a,{className:g.a.btn,disabled:!S}))}}}]);